(this["webpackJsonpnewtons-cradle"]=this["webpackJsonpnewtons-cradle"]||[]).push([[0],{54:function(t,e,s){},55:function(t,e,s){},70:function(t,e,s){},71:function(t,e,s){"use strict";s.r(e);var i=s(5),o=s.n(i),r=s(41),n=s.n(r),a=(s(54),s(11)),c=(s(55),s(13)),l=s(89),h=s(88),u=s(90),d=s(42),f=s.n(d),j=s(6);function x(t){var e=t.pendulum,s=t.quality,o=Object(i.useRef)(),r=Object(i.useRef)(),n=Object(i.useRef)(),a=Object(i.useRef)(),c=Object(i.useRef)(),l=Object(i.useRef)();return Object(i.useEffect)((function(){e.setRefs(o.current,r.current,n.current,a.current,c.current,l.current)}),[e,s]),Object(j.jsxs)("group",{ref:o,position:[e.xPos,4.5,e.zPos],rotation:[0,0,e.angle],children:[Object(j.jsxs)("mesh",{ref:n,position:[0,-2.5,0],children:[Object(j.jsx)("boxBufferGeometry",{args:[.03,5,.03]}),3===s?Object(j.jsx)("meshStandardMaterial",{color:"black"}):Object(j.jsx)("meshBasicMaterial",{color:"black"})]}),Object(j.jsxs)("mesh",{ref:r,position:[0,-5,0],children:[Object(j.jsx)("sphereBufferGeometry",{args:[.5,16,16]}),Object(j.jsx)("meshStandardMaterial",{ref:a})]}),s>1&&Object(j.jsx)("pointLight",{ref:c,position:[0,-5,4],intensity:9,distance:8,decay:3}),s>2&&Object(j.jsx)("pointLight",{ref:l,position:[0,-5,-6],intensity:11,distance:30,decay:3})]})}function g(t){var e=t.beamRef;return Object(i.useEffect)((function(){e.current.updateMatrix()}),[e]),Object(j.jsxs)("mesh",{ref:e,frustumCulled:!1,matrixAutoUpdate:!1,position:[0,4.5,0],rotation:[0,0,Math.PI/2],children:[Object(j.jsx)("cylinderBufferGeometry",{attach:"geometry",args:[.15,.15,10,12]}),Object(j.jsx)("meshBasicMaterial",{color:"black",attach:"material"})]})}var b=s(14),P={1:[{id:1,xPos:2,startAngle:Math.PI/4,color:1},{id:2,xPos:1,startAngle:0},{id:3,xPos:0,startAngle:0},{id:4,xPos:-1,startAngle:0},{id:5,xPos:-2,startAngle:0}],2:[{id:1,xPos:2,startAngle:Math.PI/4,color:1},{id:2,xPos:1,startAngle:Math.PI/4,color:1},{id:3,xPos:0,startAngle:0},{id:4,xPos:-1,startAngle:0},{id:5,xPos:-2,startAngle:0}],3:[{id:1,xPos:2,startAngle:Math.PI/4,color:1},{id:2,xPos:1,startAngle:Math.PI/4,color:1},{id:3,xPos:0,startAngle:Math.PI/4,color:1},{id:4,xPos:-1,startAngle:0},{id:5,xPos:-2,startAngle:0}],4:[{id:1,xPos:2,startAngle:Math.PI/4,color:1},{id:2,xPos:1,startAngle:0},{id:3,xPos:0,startAngle:0},{id:4,xPos:-1,startAngle:0},{id:5,xPos:-2,startAngle:-Math.PI/4,color:1}],5:[{id:1,xPos:2,startAngle:Math.PI/4,color:1},{id:2,xPos:1,startAngle:Math.PI/4,color:1},{id:3,xPos:0,startAngle:0},{id:4,xPos:-1,startAngle:-Math.PI/4,color:1},{id:5,xPos:-2,startAngle:-Math.PI/4,color:1}],6:[{id:1,xPos:2,startAngle:Math.PI/4,color:1},{id:2,xPos:1,startAngle:Math.PI/4,color:1},{id:3,xPos:0,startAngle:Math.PI/4,color:1},{id:4,xPos:-1,startAngle:-Math.PI/4},{id:5,xPos:-2,startAngle:-Math.PI/4}],7:[{id:1,xPos:2,startAngle:Math.PI/4,color:1},{id:2,xPos:1,startAngle:Math.PI/4,color:1},{id:3,xPos:0,startAngle:Math.PI/4,color:1},{id:4,xPos:-1,startAngle:0},{id:5,xPos:-2,startAngle:-Math.PI/4,color:1}],8:[{id:1,xPos:2,startAngle:Math.PI/4,color:1},{id:2,xPos:1,startAngle:Math.PI/4,color:1},{id:3,xPos:0,startAngle:0},{id:4,xPos:-1,startAngle:0},{id:5,xPos:-2,startAngle:-Math.PI/4,color:1}],9:[{id:1,xPos:2,startAngle:Math.PI/4,color:1},{id:2,xPos:1,startAngle:0},{id:4,xPos:-1,startAngle:0},{id:5,xPos:-2,startAngle:-Math.PI/4,color:1}],10:[{id:1,xPos:2,startAngle:Math.PI/4,vel:-.01,color:1},{id:2,xPos:1,startAngle:0},{id:3,xPos:0,startAngle:0},{id:4,xPos:-1,startAngle:0},{id:5,xPos:-2,startAngle:-Math.PI/4,color:1}],11:[{id:1,xPos:2,startAngle:Math.PI/4,color:1},{id:2,xPos:1,startAngle:Math.PI/6,vel:-.01},{id:3,xPos:0,startAngle:0},{id:4,xPos:-1,startAngle:-Math.PI/6,vel:.01},{id:5,xPos:-2,startAngle:-Math.PI/4,color:1}],12:function(t){for(var e=[],s=-9.5,i=1.5,o=0;o<t;o++)e.push({id:t-o,xPos:0,zPos:s,startAngle:Math.PI/4,disabledCollisions:!0,len:i,color:1}),s+=1,i-=.05;return e.reverse(),e}(15)},p=s(0),O=s(2),v=s(1),m=new v.Color(.031896033067374104,.6104955708001716,.031896033067374104),y=new v.Color(1,.1412632911304446,.45641102317066595),A=function(){function t(e){var s=e.id,i=e.xPos,o=e.zPos,r=void 0===o?0:o,n=e.startAngle,a=e.color,c=e.vel,l=e.len,h=void 0===l?1:l;Object(p.a)(this,t),this.id=s,this.d=1,this.dampingMultiplier=.999,this.xPos=i,this.zPos=r,this.angle=n,this.len=h,this.vel=c||0,this.acc=0,this.color=a?m:y,this.position=new v.Vector3,this.disabledCollisions=!1,this.forceMultiplier=.001/h}return Object(O.a)(t,[{key:"updateVisuals",value:function(){this.colorRef1.color.set(this.color),this.ref.position.x=this.xPos,this.ref.position.z=this.zPos,this.stringRef.scale.y=this.len,this.stringRef.position.y=-2.5*this.len,this.ballRef.position.y=-5*this.len,this.colorRef2&&(this.colorRef2.color.set(this.color),this.colorRef2.position.y=-5*this.len),this.colorRef3&&(this.colorRef3.color.set(this.color),this.colorRef3.position.y=-5*this.len),this.len>1&&(this.colorRef2&&(this.colorRef2.intensity=4),this.colorRef3&&(this.colorRef3.intensity=4))}},{key:"setRefs",value:function(t,e,s,i,o,r){this.ref=t,this.ballRef=e,this.stringRef=s,this.colorRef1=i,this.colorRef2=o,this.colorRef3=r,this.updateVisuals()}},{key:"getAcc",value:function(){this.acc=-this.forceMultiplier*Math.sin(this.angle)}},{key:"update",value:function(){this.ref&&(this.getAcc(),this.vel+=this.acc,this.vel*=this.dampingMultiplier,this.angle+=this.vel,this.ref.rotation.z=this.angle,this.position=this.ballRef.getWorldPosition(this.position))}},{key:"collisionCheck",value:function(t){return!(!t||!this.position)&&this.position.distanceTo(t.position)<this.d}},{key:"swapVelocities",value:function(t){if(Math.abs(t.angle)<.05){t.angle=0;var e=Math.abs(t.vel);e>.001&&e<.005&&(t.dampingMultiplier=.9)}if(Math.abs(this.angle)<.05){this.angle=0;var s=Math.abs(this.vel);s>.001&&s<.005&&(this.dampingMultiplier=.9)}var i=[this.vel,t.vel];return t.vel=i[0],this.vel=i[1],Math.abs(t.vel-this.vel)}},{key:"setNewAngle",value:function(t){var e=t.id,s=t.xPos,i=t.zPos,o=void 0===i?0:i,r=t.startAngle,n=t.color,a=t.vel,c=t.disabledCollisions,l=t.len,h=void 0===l?1:l;this.id=e,this.vel=0,this.acc=0,this.prevXPos=this.xPos,this.nextXPos=s,this.prevZPos=this.zPos,this.nextZPos=o,this.prevLen=this.len,this.nextLen=h,this.prevAngle=this.angle,this.nextAngle=r,this.prevColor=this.color.clone(),this.nextColor=n?m:y,this.color=this.color.clone(),this.forceMultiplier=.001/h,this.dampingMultiplier=.999,this.vel=a||0,this.disabledCollisions=c}},{key:"lerp",value:function(t,e,s){return(1-t)*e+t*s}},{key:"interpolate",value:function(t){var e,s;this.ref&&(this.angle=this.lerp(t,this.prevAngle,this.nextAngle),this.ref.rotation.z=this.angle,this.color.lerpColors(this.prevColor,this.nextColor,t),this.colorRef1.color.set(this.color),null===(e=this.colorRef2)||void 0===e||e.color.set(this.color),null===(s=this.colorRef3)||void 0===s||s.color.set(this.color),this.prevLen!==this.nextLen&&(this.len=this.lerp(t,this.prevLen,this.nextLen),this.xPos=this.lerp(t,this.prevXPos,this.nextXPos),this.zPos=this.lerp(t,this.prevZPos,this.nextZPos),this.ref.position.x=this.xPos,this.ref.position.z=this.zPos,this.stringRef.scale.y=this.len,this.stringRef.position.y=-2.5*this.len,this.ballRef.position.y=-5*this.len,this.colorRef2&&(this.colorRef2.position.y=-5*this.len),this.colorRef3&&(this.colorRef3.position.y=-5*this.len)))}}]),t}(),M=s.p+"static/media/hit3.1b22fb14.mp3",R=new Audio(M),I=function(t,e,s){var o=Object(i.useState)([]),r=Object(a.a)(o,2),n=r[0],l=r[1],h=Object(i.useRef)(!1),u=Object(i.useRef)(null),d=Object(i.useRef)(t);return Object(i.useEffect)((function(){u.current=d.current,d.current=t;var e=P[t],s=function(t){var e;return l((function(s){if(e=Object(b.a)(s),s.length>t.length)t:for(var i=s.length-1;i>=0;i--){for(var o=0;o<t.length;o++)if(t[o].id===s[i].id)continue t;e.splice(i,1)}else t:for(var r=0;r<t.length;r++){for(var n=0;n<s.length;n++)if(t[r].id===s[n].id)continue t;e.push(new A(t[r]))}return e.sort((function(t,e){return t.id-e.id})),e})),e}(e);!1===h.current?h.current=1:(h.current=0,s.forEach((function(t,s){t.setNewAngle(e[s])})))}),[t]),Object(c.e)((function(){h.current<1?(h.current+=.02,n.forEach((function(t){t.interpolate(h.current)})),12===d.current?(s.current.rotation.y=-h.current*Math.PI/2,s.current.scale.y=1+h.current,s.current.updateMatrix()):12===u.current&&(s.current.rotation.y=(h.current-1)*Math.PI/2,s.current.scale.y=2-h.current,s.current.updateMatrix())):(n.forEach((function(t){t.update()})),n.forEach((function(t,s){var i,o;t.disabledCollisions||t.collisionCheck(n[s-1])&&(i=t.collisionCheck(n[s+1])?n[s+1].swapVelocities(n[s-1]):t.swapVelocities(n[s-1]))>.0035&&(o=i,!1!==e&&(R.currentTime=.06,R.volume=Math.min(50*o,1),R.play()))})))})),n};function C(t){var e=t.configNumber,s=t.soundOn,o=t.quality,r=Object(i.useRef)(),n=I(e,s,r);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g,{beamRef:r}),n.map((function(t){return Object(j.jsx)(x,{pendulum:t,quality:o},t.id)}))]})}function k(t){var e=t.position,s=t.rotation,i=t.quality;return Object(j.jsxs)("mesh",{position:e,rotation:s,children:[Object(j.jsx)("planeBufferGeometry",{args:[20,20]}),Object(j.jsx)("meshStandardMaterial",{color:3===i?"rgb(2, 1, 19)":"rgb(70, 70, 88)",metalness:.3,roughness:.75})]})}function q(t){var e=t.quality;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(k,{position:[0,-7.5,0],rotation:[-Math.PI/2,0,0],quality:e}),Object(j.jsx)(k,{position:[-9,0,0],rotation:[0,Math.PI/2,0],quality:e}),Object(j.jsx)(k,{position:[9,0,0],rotation:[0,-Math.PI/2,0],quality:e}),Object(j.jsx)(k,{position:[0,0,-10],rotation:[-0,0,0],quality:e})]})}var w=s(48),S=s(24),B=s(45),z=s(49),L=s(46);function N(){var t=Object(i.useRef)(),e=Object(c.g)(),s=e.scene,r=e.gl,n=e.size,l=e.camera,h=o.a.useState((function(){return new v.Vector2(512,512)})),u=Object(a.a)(h,1)[0];Object(i.useEffect)((function(){t.current.setSize(n.width,n.height)}),[n]),Object(c.e)((function(){return t.current.render()}),1);var d={resolution:u,strength:.6,radius:.2,threshold:0};return Object(j.jsxs)("effectComposer",{ref:t,args:[r],children:[Object(j.jsx)("renderPass",{attachArray:"passes",scene:s,camera:l}),Object(j.jsx)("unrealBloomPass",{attachArray:"passes",args:[d.resolution,d.strength,d.radius,d.threshold]}),Object(j.jsx)("shaderPass",{attachArray:"passes",args:[L.a],"material-uniforms-resolution-value":[1/n.width,1/n.height],renderToScreen:!0})]})}Object(c.d)({EffectComposer:w.a,ShaderPass:S.a,RenderPass:B.a,UnrealBloomPass:z.a});var E=s(86),Q=s.p+"static/media/soundOn.aca67cec.png",F=s.p+"static/media/soundOff.5af7a349.png";function G(t){var e=t.onToggleSound,s=t.setHovered,o=Object(E.a)(Q),r=Object(E.a)(F),n=Object(i.useState)(r),c=Object(a.a)(n,2),l=c[0],h=c[1];return Object(j.jsxs)("group",{onPointerOver:function(){return s(!0)},onPointerOut:function(){return s(!1)},onPointerDown:function(t){t.stopPropagation(),e(),h((function(t){return t===o?r:o}))},position:[-7.5,-5,-9.9],children:[Object(j.jsxs)("mesh",{position:[0,0,.1],children:[Object(j.jsx)("planeBufferGeometry",{args:[.6,.7]}),Object(j.jsx)("meshBasicMaterial",{map:l,color:"#33A0F4"})]}),Object(j.jsxs)("mesh",{children:[Object(j.jsx)("circleBufferGeometry",{args:[.6,32]}),Object(j.jsx)("meshBasicMaterial",{color:"#33A0F4"})]})]})}var H=s(87),T={3:"HQ",2:"MQ",1:"LQ"};function V(t){var e=t.quality,s=t.setQuality,i=t.setHovered;return Object(j.jsxs)("group",{onPointerOver:function(){return i(!0)},onPointerOut:function(){return i(!1)},onPointerDown:function(t){t.stopPropagation();var i=e-1;0===i&&(i+=3),s(i)},position:[-7.5,-6.5,-9.9],children:[Object(j.jsx)(H.a,{fontSize:.5,position:[0,0,.1],color:"black",anchorX:"center",anchorY:"middle",children:T[e]}),Object(j.jsxs)("mesh",{children:[Object(j.jsx)("circleBufferGeometry",{args:[.6,32]}),Object(j.jsx)("meshBasicMaterial",{color:"#33A0F4"})]})]})}function X(t){var e=t.setHovered,s=t.onClick,i=t.cfg,o=t.xPos,r=t.yPos,n=t.disabled;return Object(j.jsxs)("group",{onPointerOver:function(){return e(!0)},onPointerOut:function(){return e(!1)},onPointerDown:function(){return s(i)},position:[o,r,-9.9],children:[Object(j.jsx)(H.a,{fontSize:.7,position:[0,0,.1],color:"black",anchorX:"center",anchorY:"middle",children:i}),Object(j.jsxs)("mesh",{children:[Object(j.jsx)("circleBufferGeometry",{args:[.6,32]}),Object(j.jsx)("meshBasicMaterial",{color:n?"#063D5F":"#33A0F4"})]})]})}var D=function(t,e){for(var s=[],i=0;i<t*e;i++)s.push({id:i+1,xPos:i%6*1.75-4,yPos:-1.5*Math.floor(i/6)-5});return s}(2,6);function Z(t){var e=t.onToggleSound,s=t.onChangeCfg,o=t.config,r=t.quality,n=t.setQuality,c=Object(i.useState)(!1),l=Object(a.a)(c,2),h=l[0],u=l[1];return Object(i.useEffect)((function(){document.body.style.cursor=h?"pointer":"auto"}),[h]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(G,{setHovered:u,onToggleSound:e}),Object(j.jsx)(V,{setHovered:u,quality:r,setQuality:n}),D.map((function(t,e){return Object(j.jsx)(X,{setHovered:u,disabled:o===t.id,onClick:s,cfg:t.id,xPos:t.xPos,yPos:t.yPos},e)}))]})}function J(t){var e=t.quality,s=t.setQuality,o=Object(i.useState)(!1),r=Object(a.a)(o,2),n=r[0],d=r[1],x=Object(i.useState)(1),g=Object(a.a)(x,2),b=g[0],P=g[1];return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)(c.a,{camera:{position:[0,0,20],fov:50},gl:{antialias:!1},children:[Object(j.jsx)(l.a,{}),e>1&&Object(j.jsx)(N,{}),e<3&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("directionalLight",{intensity:1,position:[0,10,10]}),Object(j.jsx)("ambientLight",{intensity:1.7/e})]}),Object(j.jsx)(h.a,{}),Object(j.jsx)(C,{soundOn:n,configNumber:b,quality:e}),Object(j.jsx)(q,{quality:e}),Object(j.jsx)(i.Suspense,{fallback:null,children:Object(j.jsx)(Z,{onToggleSound:function(){d((function(t){return!t}))},onChangeCfg:P,config:b,quality:e,setQuality:s})})]}),Object(j.jsx)(u.a,{}),Object(j.jsx)("div",{className:"hidden",children:Object(j.jsx)(f.a,{playing:n,url:"https://www.youtube.com/watch?v=Lju6h-C37hE"})})]})}s(70);function U(t){var e=t.setQuality;return Object(j.jsx)("div",{className:"qsBackground",children:Object(j.jsxs)("div",{className:"qsContainer",children:[Object(j.jsx)("div",{className:"qsTitle",children:"Select Quality"}),Object(j.jsxs)("div",{className:"qsButtonsContainer",children:[Object(j.jsx)("div",{className:"qsButton",onClick:function(){return e(1)},children:"Low"}),Object(j.jsx)("div",{className:"qsButton",onClick:function(){return e(2)},children:"Medium"}),Object(j.jsx)("div",{className:"qsButton",onClick:function(){return e(3)},children:"High"})]})]})})}function Y(){var t,e=Object(i.useState)(null!==(t=+localStorage.getItem("quality"))&&void 0!==t&&t),s=Object(a.a)(e,2),o=s[0],r=s[1],n=Object(i.useCallback)((function(t){r(t),localStorage.setItem("quality",t)}),[]);return Object(j.jsx)(j.Fragment,{children:o?Object(j.jsx)(J,{quality:o,setQuality:n}):Object(j.jsx)(U,{setQuality:n})})}n.a.render(Object(j.jsx)(Y,{}),document.getElementById("root"))}},[[71,14,15]]]);
//# sourceMappingURL=main.bac5f241.chunk.js.map