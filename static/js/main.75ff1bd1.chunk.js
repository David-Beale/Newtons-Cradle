(this["webpackJsonpnewtons-cradle"]=this["webpackJsonpnewtons-cradle"]||[]).push([[0],{54:function(t,e,s){},55:function(t,e,s){},70:function(t,e,s){"use strict";s.r(e);var o=s(5),i=s.n(o),r=s(41),n=s.n(r),a=(s(54),s(11)),c=(s(55),s(13)),l=s(88),h=s(87),u=s(89),d=s(42),f=s.n(d),j=s(8);function g(t){var e=t.pendulum,s=Object(o.useRef)(),i=Object(o.useRef)(),r=Object(o.useRef)(),n=Object(o.useRef)(),a=Object(o.useRef)(),c=Object(o.useRef)();return Object(o.useEffect)((function(){e.setRefs(s.current,i.current,r.current,n.current,a.current,c.current)}),[e]),Object(j.jsxs)("group",{ref:s,position:[e.xPos,4.5,e.zPos],rotation:[0,0,e.angle],children:[Object(j.jsxs)("mesh",{ref:r,position:[0,-2.5,0],children:[Object(j.jsx)("boxBufferGeometry",{args:[.03,5,.03]}),Object(j.jsx)("meshStandardMaterial",{color:"black"})]}),Object(j.jsxs)("mesh",{ref:i,position:[0,-5,0],children:[Object(j.jsx)("sphereBufferGeometry",{args:[.5,16,16]}),Object(j.jsx)("meshStandardMaterial",{ref:n})]}),Object(j.jsx)("pointLight",{ref:a,position:[0,-5,4],intensity:9,distance:8,decay:3}),Object(j.jsx)("pointLight",{ref:c,position:[0,-5,-6],intensity:11,distance:30,decay:3})]})}function P(t){var e=t.beamRef;return Object(o.useEffect)((function(){e.current.updateMatrix()}),[e]),Object(j.jsxs)("mesh",{ref:e,frustumCulled:!1,matrixAutoUpdate:!1,position:[0,4.5,0],rotation:[0,0,Math.PI/2],children:[Object(j.jsx)("cylinderBufferGeometry",{attach:"geometry",args:[.15,.15,10,12]}),Object(j.jsx)("meshBasicMaterial",{color:"black",attach:"material"})]})}var x=s(14),b={1:[{id:1,xPos:2,startAngle:Math.PI/4,color:1},{id:2,xPos:1,startAngle:0},{id:3,xPos:0,startAngle:0},{id:4,xPos:-1,startAngle:0},{id:5,xPos:-2,startAngle:0}],2:[{id:1,xPos:2,startAngle:Math.PI/4,color:1},{id:2,xPos:1,startAngle:Math.PI/4,color:1},{id:3,xPos:0,startAngle:0},{id:4,xPos:-1,startAngle:0},{id:5,xPos:-2,startAngle:0}],3:[{id:1,xPos:2,startAngle:Math.PI/4,color:1},{id:2,xPos:1,startAngle:Math.PI/4,color:1},{id:3,xPos:0,startAngle:Math.PI/4,color:1},{id:4,xPos:-1,startAngle:0},{id:5,xPos:-2,startAngle:0}],4:[{id:1,xPos:2,startAngle:Math.PI/4,color:1},{id:2,xPos:1,startAngle:0},{id:3,xPos:0,startAngle:0},{id:4,xPos:-1,startAngle:0},{id:5,xPos:-2,startAngle:-Math.PI/4,color:1}],5:[{id:1,xPos:2,startAngle:Math.PI/4,color:1},{id:2,xPos:1,startAngle:Math.PI/4,color:1},{id:3,xPos:0,startAngle:0},{id:4,xPos:-1,startAngle:-Math.PI/4,color:1},{id:5,xPos:-2,startAngle:-Math.PI/4,color:1}],6:[{id:1,xPos:2,startAngle:Math.PI/4,color:1},{id:2,xPos:1,startAngle:Math.PI/4,color:1},{id:3,xPos:0,startAngle:Math.PI/4,color:1},{id:4,xPos:-1,startAngle:-Math.PI/4},{id:5,xPos:-2,startAngle:-Math.PI/4}],7:[{id:1,xPos:2,startAngle:Math.PI/4,color:1},{id:2,xPos:1,startAngle:Math.PI/4,color:1},{id:3,xPos:0,startAngle:Math.PI/4,color:1},{id:4,xPos:-1,startAngle:0},{id:5,xPos:-2,startAngle:-Math.PI/4,color:1}],8:[{id:1,xPos:2,startAngle:Math.PI/4,color:1},{id:2,xPos:1,startAngle:Math.PI/4,color:1},{id:3,xPos:0,startAngle:0},{id:4,xPos:-1,startAngle:0},{id:5,xPos:-2,startAngle:-Math.PI/4,color:1}],9:[{id:1,xPos:2,startAngle:Math.PI/4,color:1},{id:2,xPos:1,startAngle:0},{id:4,xPos:-1,startAngle:0},{id:5,xPos:-2,startAngle:-Math.PI/4,color:1}],10:[{id:1,xPos:2,startAngle:Math.PI/4,vel:-.01,color:1},{id:2,xPos:1,startAngle:0},{id:3,xPos:0,startAngle:0},{id:4,xPos:-1,startAngle:0},{id:5,xPos:-2,startAngle:-Math.PI/4,color:1}],11:[{id:1,xPos:2,startAngle:Math.PI/4,color:1},{id:2,xPos:1,startAngle:Math.PI/6,vel:-.01},{id:3,xPos:0,startAngle:0},{id:4,xPos:-1,startAngle:-Math.PI/6,vel:.01},{id:5,xPos:-2,startAngle:-Math.PI/4,color:1}],12:function(t){for(var e=[],s=-9.5,o=1.5,i=0;i<t;i++)e.push({id:t-i,xPos:0,zPos:s,startAngle:Math.PI/4,disabledCollisions:!0,len:o,color:1}),s+=1,o-=.05;return e.reverse(),e}(15)},p=s(0),O=s(2),v=s(1),A=new v.Color(.031896033067374104,.6104955708001716,.031896033067374104),m=new v.Color(1,.1412632911304446,.45641102317066595),M=function(){function t(e){var s=e.id,o=e.xPos,i=e.zPos,r=void 0===i?0:i,n=e.startAngle,a=e.color,c=e.vel,l=e.len,h=void 0===l?1:l;Object(p.a)(this,t),this.id=s,this.d=1,this.dampingMultiplier=.999,this.xPos=o,this.zPos=r,this.angle=n,this.len=h,this.vel=c||0,this.acc=0,this.color=a?A:m,this.position=new v.Vector3,this.disabledCollisions=!1,this.forceMultiplier=.001/h}return Object(O.a)(t,[{key:"updateVisuals",value:function(){this.colorRef1.color.set(this.color),this.colorRef2.color.set(this.color),this.colorRef3.color.set(this.color),this.ref.position.x=this.xPos,this.ref.position.z=this.zPos,this.stringRef.scale.y=this.len,this.stringRef.position.y=-2.5*this.len,this.ballRef.position.y=-5*this.len,this.colorRef2.position.y=-5*this.len,this.colorRef3.position.y=-5*this.len,1!==this.len&&(this.colorRef2.intensity=4,this.colorRef3.intensity=4)}},{key:"setRefs",value:function(t,e,s,o,i,r){this.ref=t,this.ballRef=e,this.stringRef=s,this.colorRef1=o,this.colorRef2=i,this.colorRef3=r,this.updateVisuals()}},{key:"getAcc",value:function(){this.acc=-this.forceMultiplier*Math.sin(this.angle)}},{key:"update",value:function(){this.ref&&(this.getAcc(),this.vel+=this.acc,this.vel*=this.dampingMultiplier,this.angle+=this.vel,this.ref.rotation.z=this.angle,this.position=this.ballRef.getWorldPosition(this.position))}},{key:"collisionCheck",value:function(t){return!(!t||!this.position)&&this.position.distanceTo(t.position)<this.d}},{key:"swapVelocities",value:function(t){if(Math.abs(t.angle)<.05){t.angle=0;var e=Math.abs(t.vel);e>.001&&e<.005&&(t.dampingMultiplier=.9)}if(Math.abs(this.angle)<.05){this.angle=0;var s=Math.abs(this.vel);s>.001&&s<.005&&(this.dampingMultiplier=.9)}var o=[this.vel,t.vel];return t.vel=o[0],this.vel=o[1],Math.abs(t.vel-this.vel)}},{key:"setNewAngle",value:function(t){var e=t.id,s=t.xPos,o=t.zPos,i=void 0===o?0:o,r=t.startAngle,n=t.color,a=t.vel,c=t.disabledCollisions,l=t.len,h=void 0===l?1:l;this.id=e,this.vel=0,this.acc=0,this.prevXPos=this.xPos,this.nextXPos=s,this.prevZPos=this.zPos,this.nextZPos=i,this.prevLen=this.len,this.nextLen=h,this.prevAngle=this.angle,this.nextAngle=r,this.prevColor=this.color.clone(),this.nextColor=n?A:m,this.color=this.color.clone(),this.forceMultiplier=.001/h,this.dampingMultiplier=.999,this.vel=a||0,this.disabledCollisions=c}},{key:"lerp",value:function(t,e,s){return(1-t)*e+t*s}},{key:"interpolate",value:function(t){this.ref&&(this.angle=this.lerp(t,this.prevAngle,this.nextAngle),this.ref.rotation.z=this.angle,this.color.lerpColors(this.prevColor,this.nextColor,t),this.colorRef1.color.set(this.color),this.colorRef2.color.set(this.color),this.colorRef3.color.set(this.color),this.prevLen!==this.nextLen&&(this.len=this.lerp(t,this.prevLen,this.nextLen),this.xPos=this.lerp(t,this.prevXPos,this.nextXPos),this.zPos=this.lerp(t,this.prevZPos,this.nextZPos),this.ref.position.x=this.xPos,this.ref.position.z=this.zPos,this.stringRef.scale.y=this.len,this.stringRef.position.y=-2.5*this.len,this.ballRef.position.y=-5*this.len,this.colorRef2.position.y=-5*this.len,this.colorRef3.position.y=-5*this.len))}}]),t}(),y=s.p+"static/media/hit3.1b22fb14.mp3",I=new Audio(y),R=function(t,e,s){var i=Object(o.useState)([]),r=Object(a.a)(i,2),n=r[0],l=r[1],h=Object(o.useRef)(!1),u=Object(o.useRef)(null),d=Object(o.useRef)(t);return Object(o.useEffect)((function(){u.current=d.current,d.current=t;var e=b[t],s=function(t){var e;return l((function(s){if(e=Object(x.a)(s),s.length>t.length)t:for(var o=s.length-1;o>=0;o--){for(var i=0;i<t.length;i++)if(t[i].id===s[o].id)continue t;e.splice(o,1)}else t:for(var r=0;r<t.length;r++){for(var n=0;n<s.length;n++)if(t[r].id===s[n].id)continue t;e.push(new M(t[r]))}return e.sort((function(t,e){return t.id-e.id})),e})),e}(e);!1===h.current?h.current=1:(h.current=0,s.forEach((function(t,s){t.setNewAngle(e[s])})))}),[t]),Object(c.e)((function(){h.current<1?(h.current+=.02,n.forEach((function(t){t.interpolate(h.current)})),12===d.current?(s.current.rotation.y=-h.current*Math.PI/2,s.current.scale.y=1+h.current,s.current.updateMatrix()):12===u.current&&(s.current.rotation.y=(h.current-1)*Math.PI/2,s.current.scale.y=2-h.current,s.current.updateMatrix())):(n.forEach((function(t){t.update()})),n.forEach((function(t,s){var o,i;t.disabledCollisions||t.collisionCheck(n[s-1])&&(o=t.collisionCheck(n[s+1])?n[s+1].swapVelocities(n[s-1]):t.swapVelocities(n[s-1]))>.0035&&(i=o,!1!==e&&(I.currentTime=.06,I.volume=Math.min(50*i,1),I.play()))})))})),n};function C(t){var e=t.configNumber,s=t.soundOn,i=Object(o.useRef)(),r=R(e,s,i);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(P,{beamRef:i}),r.map((function(t){return Object(j.jsx)(g,{pendulum:t},t.id)}))]})}function w(t){var e=t.position,s=t.rotation;return Object(j.jsxs)("mesh",{position:e,rotation:s,children:[Object(j.jsx)("planeBufferGeometry",{args:[20,20]}),Object(j.jsx)("meshStandardMaterial",{color:"rgb(2, 1, 19)",metalness:.3,roughness:.75})]})}function k(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(w,{position:[0,-7.5,0],rotation:[-Math.PI/2,0,0]}),Object(j.jsx)(w,{position:[-9,0,0],rotation:[0,Math.PI/2,0]}),Object(j.jsx)(w,{position:[9,0,0],rotation:[0,-Math.PI/2,0]}),Object(j.jsx)(w,{position:[0,0,-10],rotation:[-0,0,0]})]})}var S=s(48),z=s(24),B=s(45),E=s(49),L=s(46);function F(){var t=Object(o.useRef)(),e=Object(c.g)(),s=e.scene,r=e.gl,n=e.size,l=e.camera,h=i.a.useState((function(){return new v.Vector2(512,512)})),u=Object(a.a)(h,1)[0];Object(o.useEffect)((function(){t.current.setSize(n.width,n.height)}),[n]),Object(c.e)((function(){return t.current.render()}),1);var d={resolution:u,strength:.6,radius:.2,threshold:0};return Object(j.jsxs)("effectComposer",{ref:t,args:[r],children:[Object(j.jsx)("renderPass",{attachArray:"passes",scene:s,camera:l}),Object(j.jsx)("unrealBloomPass",{attachArray:"passes",args:[d.resolution,d.strength,d.radius,d.threshold]}),Object(j.jsx)("shaderPass",{attachArray:"passes",args:[L.a],"material-uniforms-resolution-value":[1/n.width,1/n.height],renderToScreen:!0})]})}Object(c.d)({EffectComposer:S.a,ShaderPass:z.a,RenderPass:B.a,UnrealBloomPass:E.a});var G=s(85),T=s.p+"static/media/soundOn.aca67cec.png",V=s.p+"static/media/soundOff.5af7a349.png";function N(t){var e=t.onToggleSound,s=t.setHovered,i=Object(G.a)(T),r=Object(G.a)(V),n=Object(o.useState)(r),c=Object(a.a)(n,2),l=c[0],h=c[1];return Object(j.jsxs)("group",{onPointerOver:function(){return s(!0)},onPointerOut:function(){return s(!1)},onPointerDown:function(t){t.stopPropagation(),e(),h((function(t){return t===i?r:i}))},position:[-7.5,-5.5,-9.9],children:[Object(j.jsxs)("mesh",{position:[0,0,.1],children:[Object(j.jsx)("planeBufferGeometry",{args:[.7,.7]}),Object(j.jsx)("meshBasicMaterial",{map:l,color:"#33A0F4"})]}),Object(j.jsxs)("mesh",{children:[Object(j.jsx)("circleBufferGeometry",{args:[.7,32]}),Object(j.jsx)("meshBasicMaterial",{color:"#33A0F4"})]})]})}var X=s(86);function H(t){var e=t.setHovered,s=t.onClick,o=t.cfg,i=t.xPos,r=t.yPos,n=t.disabled;return Object(j.jsxs)("group",{onPointerOver:function(){return e(!0)},onPointerOut:function(){return e(!1)},onPointerDown:function(){return s(o)},position:[i,r,-9.9],children:[Object(j.jsx)(X.a,{fontSize:.7,position:[0,0,.1],color:"black",anchorX:"center",anchorY:"middle",children:o}),Object(j.jsxs)("mesh",{children:[Object(j.jsx)("circleBufferGeometry",{args:[.6,32]}),Object(j.jsx)("meshBasicMaterial",{color:n?"#063D5F":"#33A0F4"})]})]})}var Z=function(t,e){for(var s=[],o=0;o<t*e;o++)s.push({id:o+1,xPos:o%6*1.75-4,yPos:-1.5*Math.floor(o/6)-5});return s}(2,6);function D(t){var e=t.onToggleSound,s=t.onChangeCfg,i=t.config,r=Object(o.useState)(!1),n=Object(a.a)(r,2),c=n[0],l=n[1];return Object(o.useEffect)((function(){document.body.style.cursor=c?"pointer":"auto"}),[c]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(N,{setHovered:l,onToggleSound:e}),Z.map((function(t,e){return Object(j.jsx)(H,{setHovered:l,disabled:i===t.id,onClick:s,cfg:t.id,xPos:t.xPos,yPos:t.yPos},e)}))]})}function J(){var t=Object(o.useState)(!1),e=Object(a.a)(t,2),s=e[0],i=e[1],r=Object(o.useState)(1),n=Object(a.a)(r,2),d=n[0],g=n[1];return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)(c.a,{camera:{position:[0,0,20],fov:50},children:[Object(j.jsx)(l.a,{}),Object(j.jsx)(F,{}),Object(j.jsx)(h.a,{}),Object(j.jsx)(C,{soundOn:s,configNumber:d}),Object(j.jsx)(k,{}),Object(j.jsx)(o.Suspense,{fallback:null,children:Object(j.jsx)(D,{onToggleSound:function(){i((function(t){return!t}))},onChangeCfg:g,config:d})})]}),Object(j.jsx)(u.a,{}),Object(j.jsx)(f.a,{playing:s,url:"https://www.youtube.com/watch?v=Lju6h-C37hE"})]})}n.a.render(Object(j.jsx)(J,{}),document.getElementById("root"))}},[[70,14,15]]]);
//# sourceMappingURL=main.75ff1bd1.chunk.js.map